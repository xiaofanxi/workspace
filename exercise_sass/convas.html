<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Document</title>
	<style>
		body{
			margin: 0;
			padding: 0;
		}
		
	</style>
</head>
<body>
	<!-- <div id="support"></div> -->
	<canvas id="diagonal" width="400px" height="400px" style="border: 1px solid red"></canvas>
	<script>
		/*window.onload = function () {
			try {
				// statements
				console.log(document.createElement("canvas").getContext("2d"));
				document.getElementById("support").innerHTML = "HTML5 canvas is supported in your browser.";
			} catch(e) {
				// statements
				console.log(e);
				document.getElementById("support").innerHTML = "HTML5 canvas is not supported in your browser.";
			}
		}*/
		/*function drawDiagonal () {//绘制对角线
			// 获取canvas元素及其绘制图上下文
   			var canvas = document.getElementById("diagonal");
   			var context = canvas.getContext("2d");
   			//用绝对坐标来创建一条路径
   			context.beginPath();
   			context.moveTo(70,140);
   			context.lineTo(140,70);
   			//将这条线绘制到canvas上
   			context.stroke();
		}*/
	/*	function drawDiagonal(){
			// 获取canvas元素及其绘制图上下文
			var canvas = document.getElementById("diagonal");
			var context = canvas.getContext("2d");
			//保存当前绘制状态
			// context.save();
			context.translate(70,140);
			//用绝对坐标来创建一条路径
			context.beginPath();
			context.moveTo(0,0);
			context.lineTo(70,-70);
			// 获取canvas元素及其绘制图上下文
			context.stroke();
			//恢复绘制图上下文状态
			// context.restore();
		}
		window.addEventListener("load", drawDiagonal, false);*/

		function createCanopyPath (context) {
			// 绘制树冠
			context.beginPath();
			context.moveTo(-25,-50);
			context.lineTo(-10,-80);
			context.lineTo(-20,-80);
			context.lineTo(-5,-110);
			context.lineTo(-15,-110);

			//树的顶点
			context.lineTo(0,-140);

			context.lineTo(15,-110);
			context.lineTo(5,-110);
			context.lineTo(20,-80);
			context.lineTo(10,-80);
			context.lineTo(25,-50);
			//连接起点,闭合路径
			context.closePath();
		}

		function drawTrails (argument) {
			// body... 
			var canvas = document.getElementById("diagonal");
			var context = canvas.getContext("2d");
			context.save();
			context.translate(130,150);
			createCanopyPath(context);

				//加宽线条
			context.lineWidth = 4;
			//平滑路径的结合点
			context.lineJoin = "round";
			//将颜色改为棕色
			context.strokeStyle = "#663300";

			//填充颜色并填充树冠
			context.fillStyle = "#339900";
			context.fill();

			context.fillStyle = "#663300";
			//填充用作树干的矩形区域
			// context.fillRect(-5,-50,10,50);

			//画出矩形轮廓
			context.strokeRect(-5,-50,10,50);

			//清除矩形区域内的所有内容并将它恢复到初始状态,即透明色
			// context.clearRect();

			context.stroke();
			context.restore();


			context.save();
			context.translate(-10,350);
			context.beginPath();
			context.moveTo(0,0);
			//第一条曲线向右上方弯曲
			context.quadraticCurveTo(170,-50,260,-190);
			//第二条曲线向右下方弯曲
			context.quadraticCurveTo(310,-250,410,-250);

			//将颜色改为棕色
			context.strokeStyle = "#663300";
			context.lineWidth = 20;
			context.stroke();

			context.restore();
		}

		window.addEventListener("load", drawTrails, false);
	</script>
</body>
</html>